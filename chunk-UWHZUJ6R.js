import{a as U}from"./chunk-K3GLU4T7.js";import{Ca as w,D as u,Fb as N,Ia as D,K as S,Lb as $,Na as O,Nb as M,O as E,Oa as I,Ob as B,Pa as T,Pb as f,Qa as k,Qb as F,Ra as j,Sa as n,Ta as t,U as g,W as R,Ya as _,a as b,ab as r,b as v,bb as l,cb as x,gb as z,j as P,p as m,v as y,va as p,w as h,wa as C,ya as c}from"./chunk-CMKRVOCM.js";var V=(()=>{let o=class o{constructor(){this.http=g($),this.seasonStore=g(F),this.state=C({round:"",season:"",Races:[]}),this.loading=C(!0),this.error=C(null),this.season=p(()=>this.state().season),this.Races=p(()=>this.state().Races),this.round=p(()=>this.state().round),B(this.seasonStore.selectedSeason).pipe(y(a=>!!a),S(()=>this.fetchScheduleResults()),M()).subscribe(a=>{this.state.update(d=>v(b({},d),{season:a.MRData.RaceTable.season,Races:a.MRData.RaceTable.Races,round:a.MRData.RaceTable.round}))})}fetchScheduleResults(){let a=this.seasonStore.selectedSeason(),d=`${f}/${a}/results.json`;return this.loading.set(!0),this.error.set(null),this.http.get(d).pipe(u(()=>this.loading.set(!1)),h(s=>(console.error("Error fetching schedule results:",s),this.error.set("No se pudieron cargar los resultados."),P)),m(s=>s))}getResultsByRound(a){return this.loading.set(!0),this.error.set(null),this.http.get(`${f}/${this.seasonStore.selectedSeason()}/${a}/results.json`).pipe(u(()=>this.loading.set(!1)),h(d=>(console.error("Error fetching results by round:",d),this.error.set("No se pudieron cargar los resultados."),P)))}};o.\u0275fac=function(d){return new(d||o)},o.\u0275prov=E({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();function A(e,o){if(e&1&&(n(0,"div",4)(1,"span"),r(2),t()()),e&2){let i=_();c(2),l(i.details.raceName)}}function H(e,o){e&1&&(n(0,"div",5),r(1,"Cargando resultados..."),t())}function L(e,o){if(e&1&&(n(0,"div",6),r(1),t()),e&2){let i=_();c(1),l(i.scheduleResultsService.error())}}function q(e,o){if(e&1&&(n(0,"tr")(1,"td",8),r(2),t(),n(3,"td",9)(4,"span",10),r(5),t(),n(6,"span",11),r(7),t()(),n(8,"td",12),r(9),t(),n(10,"td",13),r(11),t(),n(12,"td",14),r(13),t(),n(14,"td",15),r(15),t(),n(16,"td",16),r(17),t()()),e&2){let i=o.$implicit;c(2),x(" ",i.position," "),c(3),l(i.Driver.familyName),c(2),l(i.Driver.givenName),c(2),x(" ",i.Constructor.name," "),c(2),l(i.laps),c(2),l(i.Time==null?null:i.Time.time),c(2),l(i.status),c(2),l(i.points)}}function G(e,o){if(e&1&&(n(0,"table",7)(1,"thead")(2,"tr")(3,"th"),r(4,"Pos"),t(),n(5,"th"),r(6,"Piloto"),t(),n(7,"th"),r(8,"Escuder\xEDa"),t(),n(9,"th"),r(10,"Vueltas"),t(),n(11,"th"),r(12,"Tiempo"),t(),n(13,"th"),r(14,"Estado"),t(),n(15,"th"),r(16,"Puntos"),t()()(),n(17,"tbody"),k(18,q,18,8,"tr",null,T),t()()),e&2){let i=_();c(18),j(i.details.Results)}}function J(e,o){e&1&&(n(0,"div",5),r(1,"No hay resultados disponibles."),t())}var Ct=(()=>{let o=class o{constructor(){this.details=null,this.scheduleResultsService=g(V),this.destroyRef=g(w)}ngOnInit(){this.id&&this.scheduleResultsService.getResultsByRound(this.id).pipe(m(a=>a.MRData.RaceTable.Races[0]??null),M(this.destroyRef)).subscribe(a=>this.details=a)}};o.\u0275fac=function(d){return new(d||o)},o.\u0275cmp=R({type:o,selectors:[["schedule-details"]],inputs:{id:"id"},standalone:!0,features:[z],decls:9,vars:2,consts:[[1,"container"],[1,"header"],["class","race-info",4,"ngIf"],["class","state"],[1,"race-info"],[1,"state"],[1,"state","error"],["motionReveal","",1,"modern-table"],["data-label","Pos",1,"position"],["data-label","Piloto",1,"driver"],[1,"surname"],[1,"firstname"],["data-label","Escuder\xEDa",1,"constructor"],["data-label","Vueltas"],["data-label","Tiempo"],["data-label","Estado"],["data-label","Puntos",1,"points"]],template:function(d,s){d&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Resultados"),t(),O(4,A,3,1,"div",2),t(),O(5,H,2,0,"div",3)(6,L,2,1)(7,G,20,0)(8,J,2,0),t()),d&2&&(c(4),D("ngIf",s.details),c(1),I(5,s.scheduleResultsService.loading()?5:s.scheduleResultsService.error()?6:s.details?7:8))},dependencies:[N,U],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}.header[_ngcontent-%COMP%]   .race-info[_ngcontent-%COMP%]{color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px}@media (max-width: 767px){.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){display:none}}"]});let e=o;return e})();export{Ct as ScheduleDetailsComponent};
