import{K as h,Lb as l,O as p,U as c,l as o,w as m}from"./chunk-CMKRVOCM.js";var B=(()=>{let t=class t{constructor(){this.http=c(l)}getSummaryByUrl(e,r="es"){let n=this.extractTitleFromUrl(e);return n?this.getSummaryByTitle(n,r):o(null)}getSummaryByTitle(e,r="es"){let n=encodeURIComponent(e),s=`https://${r}.wikipedia.org/api/rest_v1/page/summary/${n}`;return this.http.get(s).pipe(m(()=>o(null)),h(a=>a||r==="en"?o(a):this.getSummaryByTitle(e,"en")))}getSummaryBySearch(e,r="es"){let n=encodeURIComponent(e),s=`https://${r}.wikipedia.org/w/rest.php/v1/search/page?q=${n}&limit=1`;return this.http.get(s).pipe(m(()=>o(null)),h(a=>{let u=a?.pages?.[0]?.title;return u?this.getSummaryByTitle(u,r):r==="en"?o(null):this.getSummaryBySearch(e,"en")}))}extractTitleFromUrl(e){try{let s=new URL(e).pathname.split("/").filter(Boolean).pop();return s?decodeURIComponent(s.replaceAll("_"," ")):""}catch{return""}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var T=(()=>{let t=class t{constructor(){this.http=c(l),this.baseUrl="https://api.openf1.org/v1"}getLatestDrivers(){return this.http.get(`${this.baseUrl}/drivers?meeting_key=latest`)}getMeetingsByYear(e){return this.http.get(`${this.baseUrl}/meetings?year=${e}`)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();export{B as a,T as b};
