import{a as R}from"./chunk-OKM6NWTD.js";import{a as q,b as B}from"./chunk-76O3NOWP.js";import{a as j}from"./chunk-OVAW3OSV.js";import{c as I}from"./chunk-J7ZXTAJT.js";import{C as w,Ca as S,Ia as M,La as E,Na as C,Nb as f,Oa as u,Ob as v,Qb as L,Sa as a,Ta as i,U as g,Ua as h,W as k,Ya as s,ab as r,bb as m,cb as T,gb as F,ia as y,jb as D,kb as z,p as b,qa as O,v as P,wa as _,ya as d}from"./chunk-CMKRVOCM.js";function U(t,c){if(t&1&&(a(0,"div",4),r(1),i()),t&2){let n=s(),o;d(1),m((o=n.team())==null?null:o.name)}}function W(t,c){t&1&&(a(0,"div",5),r(1,"Cargando escuder\xEDa..."),i())}function N(t,c){if(t&1&&(a(0,"div",6),r(1),i()),t&2){let n=s();d(1),m(n.constructorsService.error())}}function V(t,c){t&1&&(a(0,"div",5),r(1,"Cargando informaci\xF3n adicional..."),i())}function Y(t,c){if(t&1&&(a(0,"div",5),r(1),i()),t&2){let n=s(2);d(1),m(n.wikiError())}}function $(t,c){if(t&1&&h(0,"img",21),t&2){let n=s(3),o,e;M("src",(o=n.wiki())==null||o.thumbnail==null?null:o.thumbnail.source,O)("alt",((e=n.wiki())==null?null:e.title)||"Imagen")}}function A(t,c){if(t&1&&(a(0,"a",22),r(1," Ver en Wikipedia "),i()),t&2){let n=s(3),o;M("href",(o=n.wiki())==null||o.content_urls==null||o.content_urls.desktop==null?null:o.content_urls.desktop.page,O)}}function G(t,c){if(t&1&&(a(0,"div",14),C(1,$,1,2,"img",15),a(2,"div",16)(3,"div",17),r(4),i(),a(5,"div",18),r(6),i(),a(7,"p",19),r(8),i(),C(9,A,2,1,"a",20),i()()),t&2){let n=s(2),o,e,l,p,x;d(1),u(1,!((o=n.wiki())==null||o.thumbnail==null)&&o.thumbnail.source?1:-1),d(3),m((e=n.wiki())==null?null:e.title),d(2),m((l=n.wiki())==null?null:l.description),d(2),m((p=n.wiki())==null?null:p.extract),d(1),u(9,!((x=n.wiki())==null||x.content_urls==null||x.content_urls.desktop==null)&&x.content_urls.desktop.page?9:-1)}}function H(t,c){t&1&&(a(0,"div",5),r(1,"Sin informaci\xF3n adicional."),i())}function J(t,c){t&1&&(a(0,"div",5),r(1,"Cargando datos deportivos..."),i())}function K(t,c){if(t&1&&(a(0,"div",5),r(1),i()),t&2){let n=s(2);d(1),m(n.openF1Error())}}function Q(t,c){if(t&1&&h(0,"img",21),t&2){let n=s(3),o,e;M("src",(o=n.openF1())==null?null:o.headshot_url,O)("alt",((e=n.openF1())==null?null:e.team_name)||"Equipo")}}function X(t,c){if(t&1&&(a(0,"div",14),C(1,Q,1,2,"img",15),a(2,"div",16)(3,"div",17),r(4),i(),a(5,"div",18),r(6,"Datos deportivos actuales"),i(),a(7,"p",19),r(8),i()()()),t&2){let n=s(2),o,e,l;d(1),u(1,(o=n.openF1())!=null&&o.headshot_url?1:-1),d(3),m((e=n.openF1())==null?null:e.team_name),d(4),T(" Color equipo: ",(l=n.openF1())==null?null:l.team_colour," ")}}function Z(t,c){t&1&&(a(0,"div",5),r(1,"Sin datos deportivos adicionales."),i())}function tt(t,c){if(t&1&&(a(0,"div",7)(1,"div",8)(2,"div",9)(3,"span",10),r(4,"Nacionalidad"),i(),a(5,"div",11),h(6,"div"),D(7,"flagClass"),a(8,"span"),r(9),i()()(),a(10,"div",9)(11,"span",10),r(12,"Wikipedia"),i(),a(13,"a",12),r(14," Ver historia del equipo "),i()()()(),a(15,"div",13)(16,"h2"),r(17,"Sobre"),i(),C(18,V,2,0,"div",3)(19,Y,2,1)(20,G,10,5)(21,H,2,0),i(),a(22,"div",13)(23,"h2"),r(24,"Datos OpenF1"),i(),C(25,J,2,0,"div",3)(26,K,2,1)(27,X,9,3)(28,Z,2,0),i()),t&2){let n=s(),o,e,l;d(6),E("fflag ff-md ","fflag-"+z(7,7,(o=n.team())==null?null:o.nationality),""),d(3),m((e=n.team())==null?null:e.nationality),d(4),M("href",(l=n.team())==null?null:l.url,O),d(5),u(18,n.wikiLoading()?18:n.wikiError()?19:n.wiki()?20:21),d(7),u(25,n.openF1Loading()?25:n.openF1Error()?26:n.openF1()?27:28)}}function et(t,c){t&1&&(a(0,"div",5),r(1,"No se encontr\xF3 la escuder\xEDa."),i())}var _t=(()=>{let c=class c{constructor(){this.route=g(I),this.seasonStore=g(L),this.destroyRef=g(S),this.injector=g(y),this.constructorsService=g(R),this.wikiService=g(q),this.openF1Service=g(B),this.constructorId=_(""),this.team=_(null),this.wiki=_(null),this.wikiLoading=_(!1),this.wikiError=_(null),this.openF1=_(null),this.openF1Loading=_(!1),this.openF1Error=_(null)}ngOnInit(){let o=this.route.snapshot.paramMap.get("id")??"";this.constructorId.set(o),v(this.seasonStore.selectedSeason,{injector:this.injector}).pipe(P(e=>!!e),f(this.destroyRef)).subscribe(e=>{let l=this.constructorsService.getConstructorById(o);if(l){this.team.set(l);return}this.constructorsService.fetchConstructorById(e,o).pipe(f(this.destroyRef)).subscribe(p=>{let x=p.MRData.ConstructorTable.Constructors?.[0]??null;this.team.set(x)})}),v(this.team,{injector:this.injector}).pipe(b(e=>({current:e,query:e?.url??e?.name??""})),P(({query:e})=>!!e),w((e,l)=>e.query===l.query),f(this.destroyRef)).subscribe(({current:e,query:l})=>{this.loadWiki(e,l),this.loadOpenF1(e)})}loadWiki(o,e){this.wikiLoading.set(!0),this.wikiError.set(null),(o?.url?this.wikiService.getSummaryByUrl(o.url,"es"):this.wikiService.getSummaryBySearch(e,"es")).pipe(f(this.destroyRef)).subscribe({next:p=>{this.wiki.set(p),this.wikiLoading.set(!1),p||this.wikiError.set("Sin informaci\xF3n adicional.")},error:()=>{this.wikiLoading.set(!1),this.wikiError.set("No se pudo cargar informaci\xF3n adicional.")}})}loadOpenF1(o){this.openF1Loading.set(!0),this.openF1Error.set(null),this.openF1Service.getLatestDrivers().pipe(f(this.destroyRef)).subscribe({next:e=>{let l=e.find(p=>(p.team_name??"").toLowerCase()===(o?.name??"").toLowerCase());this.openF1.set(l??null),this.openF1Loading.set(!1),l||this.openF1Error.set("Sin datos deportivos adicionales.")},error:()=>{this.openF1Loading.set(!1),this.openF1Error.set("No se pudo cargar datos deportivos.")}})}};c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=k({type:c,selectors:[["team-details"]],standalone:!0,features:[F],decls:9,vars:2,consts:[[1,"container"],[1,"header"],["class","team-name"],["class","state"],[1,"team-name"],[1,"state"],[1,"state","error"],[1,"team-card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value","nationality"],["target","_blank",1,"value","link",3,"href"],[1,"wiki-card"],[1,"wiki-content"],["class","wiki-image","loading","lazy",3,"src","alt"],[1,"wiki-text"],[1,"wiki-title"],[1,"wiki-description"],[1,"wiki-extract"],["class","wiki-link","target","_blank",3,"href"],["loading","lazy",1,"wiki-image",3,"src","alt"],["target","_blank",1,"wiki-link",3,"href"]],template:function(e,l){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Detalles del Equipo"),i(),C(4,U,2,1,"div",2),i(),C(5,W,2,0,"div",3)(6,N,2,1)(7,tt,29,9)(8,et,2,0),i()),e&2&&(d(4),u(4,l.team()?4:-1),d(1),u(5,l.constructorsService.loading()?5:l.constructorsService.error()?6:l.team()?7:8))},dependencies:[j],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}.team-name[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--color-text-muted);margin-top:8px;text-transform:uppercase;letter-spacing:1px}.team-card[_ngcontent-%COMP%]{background:var(--color-surface);border-radius:var(--radius-2);border:1px solid var(--color-border);box-shadow:var(--shadow-1);padding:28px;margin-top:20px;transition:transform .25s ease,box-shadow .25s ease}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:var(--shadow-2)}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:22px}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px}.info-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.05rem;color:var(--color-text);font-weight:600}.info-item[_ngcontent-%COMP%]   .value.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.info-item[_ngcontent-%COMP%]   .value.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:6px}.info-item[_ngcontent-%COMP%]   .value.link[_ngcontent-%COMP%]{color:#9cc2ff;text-decoration:none;transition:color .2s ease}.info-item[_ngcontent-%COMP%]   .value.link[_ngcontent-%COMP%]:hover{color:var(--color-accent-2)}.wiki-card[_ngcontent-%COMP%]{margin-top:20px;background:var(--color-surface);border-radius:var(--radius-2);border:1px solid var(--color-border);box-shadow:var(--shadow-1);padding:24px}.wiki-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 14px;text-transform:uppercase;letter-spacing:1px;font-size:1rem}.wiki-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:140px 1fr;gap:18px;align-items:start}.wiki-image[_ngcontent-%COMP%]{width:100%;border-radius:12px;object-fit:cover;box-shadow:var(--shadow-1)}.wiki-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.05rem}.wiki-description[_ngcontent-%COMP%]{color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.75rem;margin-bottom:8px}.wiki-extract[_ngcontent-%COMP%]{margin:0 0 12px;color:var(--color-text)}.wiki-link[_ngcontent-%COMP%]{color:#9cc2ff;text-decoration:none;transition:color .2s ease}.wiki-link[_ngcontent-%COMP%]:hover{color:var(--color-accent-2)}@media (max-width: 767px){.team-card[_ngcontent-%COMP%]{padding:20px}.info-grid[_ngcontent-%COMP%]{gap:18px}.wiki-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]});let t=c;return t})();export{_t as TeamDetailsComponent};
