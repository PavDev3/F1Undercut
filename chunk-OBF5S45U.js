import{c as k}from"./chunk-2XD5LJ6M.js";import{J as e,K as f,a as i,b as o,f as c,h as n,k as h,s as p,ua as m,w as u}from"./chunk-MUYU46A6.js";var T=(()=>{let r=class r{constructor(){this.http=u(m),this.state=f({season:"",tracks:[]}),this.season=e(()=>this.state().season),this.tracks=e(()=>this.state().tracks),this.tracksBySeason$=this.fetchTracksBySeason(),this.tracksBySeason$.subscribe(t=>{this.state.update(s=>o(i({},s),{season:t.MRData.CircuitTable.season,tracks:t.MRData.CircuitTable.Circuits}))})}fetchTracksBySeason(){return this.http.get(`${k}`).pipe(h(t=>(console.error("Error"),c)),n(t=>t))}getTrackById(t){return this.state().tracks.find(s=>s.circuitId===t)}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();export{T as a};
