import{a as B}from"./chunk-VHY43NDH.js";import{a as $}from"./chunk-7PW2BR33.js";import"./chunk-RJHUONFH.js";import{$a as z,Ba as s,E as b,La as C,N as v,Pb as w,Qa as F,Qb as E,R as S,Ra as R,Sa as k,Ta as _,Tb as L,Ua as M,Ub as D,Va as i,Vb as I,Wa as o,Wb as T,X as c,Z as j,a as P,b as u,db as a,eb as y,fb as l,j as O,jb as U,p as h,w as f,x,ya as p,za as g}from"./chunk-RWPYTDVJ.js";var H=(()=>{let t=class t{constructor(){this.http=c(E),this.seasonStore=c(T),this.state=g({season:"",StandingsLists:[]}),this.loading=g(!0),this.error=g(null),this.season=p(()=>this.state().season),this.StandingsLists=p(()=>this.state().StandingsLists),D(this.seasonStore.selectedSeason).pipe(f(e=>!!e),v(()=>this.fetchStandingsConstructorBySeason()),L()).subscribe(e=>{this.state.update(d=>u(P({},d),{season:e.MRData.StandingsTable.season,StandingsLists:e.MRData.StandingsTable.StandingsLists}))})}fetchStandingsConstructorBySeason(){return this.loading.set(!0),this.error.set(null),this.http.get(`${I}/${this.seasonStore.selectedSeason()}/constructorstandings.json`).pipe(b(()=>this.loading.set(!1)),x(e=>(console.error("Error fetching constructor standings:",e),e instanceof w&&e.status===429?this.error.set("Demasiadas solicitudes a la API. Espera unos segundos e intenta de nuevo."):this.error.set("No se pudo cargar la clasificaci\xF3n de constructores."),O)),h(e=>e))}};t.\u0275fac=function(d){return new(d||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var N=(()=>{let t=class t{constructor(){this.http=c(E),this.seasonStore=c(T),this.state=g({season:"",StandingsLists:[]}),this.loading=g(!0),this.error=g(null),this.season=p(()=>this.state().season),this.StandingsLists=p(()=>this.state().StandingsLists),D(this.seasonStore.selectedSeason).pipe(f(e=>!!e),v(()=>this.fetchStandingsDriversBySeason()),L()).subscribe(e=>{this.state.update(d=>u(P({},d),{season:e.MRData.StandingsTable.season,StandingsLists:e.MRData.StandingsTable.StandingsLists}))})}fetchStandingsDriversBySeason(){return this.loading.set(!0),this.error.set(null),this.http.get(`${I}/${this.seasonStore.selectedSeason()}/driverstandings.json`).pipe(b(()=>this.loading.set(!1)),x(e=>(console.error("Error fetching driver standings:",e),e instanceof w&&e.status===429?this.error.set("Demasiadas solicitudes a la API. Espera unos segundos e intenta de nuevo."):this.error.set("No se pudo cargar la clasificaci\xF3n de pilotos."),O)),h(e=>e))}};t.\u0275fac=function(d){return new(d||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Y(n,t){n&1&&(i(0,"div",4),a(1,"Cargando clasificaciones..."),o())}function q(n,t){if(n&1&&(i(0,"div",5),a(1),o()),n&2){let r=z();s(1),l(" ",r.standingsService.error()||r.standingsConstructorService.error()," ")}}var G=(n,t)=>t.DriverStandings;function J(n,t){return this.standingsConstructorService.StandingsLists}function K(n,t){if(n&1&&(i(0,"tr")(1,"td",9),a(2),o(),i(3,"td",10)(4,"span",11),a(5),o(),i(6,"span",12),a(7),o()(),i(8,"td",13),a(9),o()()),n&2){let r=t.$implicit;s(1),C("countUp",r.position),s(1),l(" ",r.position," "),s(3),y(r.Driver.familyName),s(2),y(r.Driver.givenName),s(1),C("countUp",r.points),s(1),l(" ",r.points," ")}}function Q(n,t){if(n&1&&_(0,K,10,6,"tr",null,k),n&2){let r=t.$implicit;M(r.DriverStandings)}}function V(n,t){if(n&1&&(i(0,"tr")(1,"td",9),a(2),o(),i(3,"td",14),a(4),o(),i(5,"td",13),a(6),o()()),n&2){let r=t.$implicit;s(1),C("countUp",r.position),s(1),l(" ",r.position," "),s(2),y(r.Constructor.name),s(1),C("countUp",r.points),s(1),l(" ",r.points," ")}}function W(n,t){if(n&1&&_(0,V,7,5,"tr",null,k),n&2){let r=t.$implicit;M(r.ConstructorStandings)}}function X(n,t){if(n&1&&(i(0,"div",6)(1,"div",7)(2,"h2"),a(3,"Pilotos"),o(),i(4,"table",8)(5,"thead")(6,"tr")(7,"th"),a(8,"Pos"),o(),i(9,"th"),a(10,"Piloto"),o(),i(11,"th"),a(12,"Puntos"),o()()(),i(13,"tbody"),_(14,Q,2,0,null,null,G),o()()(),i(16,"div",7)(17,"h2"),a(18,"Constructores"),o(),i(19,"table",8)(20,"thead")(21,"tr")(22,"th"),a(23,"Pos"),o(),i(24,"th"),a(25,"Constructor"),o(),i(26,"th"),a(27,"Puntos"),o()()(),i(28,"tbody"),_(29,W,2,0,null,null,J,!0),o()()()()),n&2){let r=z();s(14),M(r.standingsService.StandingsLists()),s(15),M(r.standingsConstructorService.StandingsLists())}}var bt=(()=>{let t=class t{constructor(){this.standingsService=c(N),this.standingsConstructorService=c(H)}};t.\u0275fac=function(d){return new(d||t)},t.\u0275cmp=j({type:t,selectors:[["app-standing-list"]],standalone:!0,features:[U],decls:10,vars:2,consts:[[1,"container"],[1,"header"],[1,"season-info"],["class","state"],[1,"state"],[1,"state","error"],[1,"standings-grid"],[1,"standings-section"],["motionReveal","",1,"standings-table"],[1,"position",3,"countUp"],[1,"driver"],[1,"surname"],[1,"firstname"],[1,"points",3,"countUp"],[1,"constructor"]],template:function(d,m){d&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Clasificaci\xF3n"),o(),i(4,"div",2)(5,"span"),a(6),o()()(),F(7,Y,2,0,"div",3)(8,q,2,1)(9,X,31,0),o()),d&2&&(s(6),l("Temporada ",m.standingsService.season(),""),s(1),R(7,m.standingsService.loading()||m.standingsConstructorService.loading()?7:m.standingsService.error()||m.standingsConstructorService.error()?8:9))},dependencies:[$,B],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}.standings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:28px;margin-top:10px}.standings-section[_ngcontent-%COMP%]{background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-2);padding:18px;box-shadow:var(--shadow-1)}.standings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--color-text);margin:0 0 14px;text-transform:uppercase;letter-spacing:1px}.standings-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.standings-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 14px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.8rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.standings-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:rgba(255,255,255,.04);border-radius:var(--radius-1);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease}.standings-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2)}.standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px;border:none}.standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1)}.standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;text-align:right}.standings-table[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-weight:700;width:60px}.standings-table[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-weight:700;width:80px}.standings-table[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.standings-table[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}@media (max-width: 767px){.standings-grid[_ngcontent-%COMP%]{gap:18px}.standings-section[_ngcontent-%COMP%]{padding:14px}.standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .standings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;font-size:.88rem}}"]});let n=t;return n})();export{bt as StandingsListComponent};
