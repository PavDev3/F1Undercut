import{a as H}from"./chunk-SIEPZAC4.js";import{a as A}from"./chunk-7PW2BR33.js";import{$a as C,Ba as c,E as h,Fa as w,Fb as F,Ib as U,La as D,N as S,Qa as O,Qb as V,R as E,Ra as k,Sa as I,Ta as T,Tb as u,Ua as z,Ub as L,Va as n,Vb as x,Wa as t,Wb as Y,X as g,Z as R,_a as j,a as f,b as v,db as o,eb as s,fb as b,j as M,jb as B,mb as N,nb as $,p as m,w as y,x as P,ya as p,za as _}from"./chunk-RWPYTDVJ.js";var q=(()=>{let r=class r{constructor(){this.http=g(V),this.seasonStore=g(Y),this.state=_({round:"",season:"",Races:[]}),this.loading=_(!0),this.error=_(null),this.season=p(()=>this.state().season),this.Races=p(()=>this.state().Races),this.round=p(()=>this.state().round),L(this.seasonStore.selectedSeason).pipe(y(a=>!!a),S(()=>this.fetchScheduleResults()),u()).subscribe(a=>{this.state.update(l=>v(f({},l),{season:a.MRData.RaceTable.season,Races:a.MRData.RaceTable.Races,round:a.MRData.RaceTable.round}))})}fetchScheduleResults(){let a=this.seasonStore.selectedSeason(),l=`${x}/${a}/results.json`;return this.loading.set(!0),this.error.set(null),this.http.get(l).pipe(h(()=>this.loading.set(!1)),P(d=>(console.error("Error fetching schedule results:",d),this.error.set("No se pudieron cargar los resultados."),M)),m(d=>d))}getResultsByRound(a){return this.loading.set(!0),this.error.set(null),this.http.get(`${x}/${this.seasonStore.selectedSeason()}/${a}/results.json`).pipe(h(()=>this.loading.set(!1)),P(l=>(console.error("Error fetching results by round:",l),this.error.set("No se pudieron cargar los resultados."),M)))}};r.\u0275fac=function(l){return new(l||r)},r.\u0275prov=E({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();function J(e,r){if(e&1&&(n(0,"div",5)(1,"span"),o(2),t()()),e&2){let i=C();c(2),s(i.details.raceName)}}function K(e,r){e&1&&(n(0,"div",6),o(1,"Cargando resultados..."),t())}function Q(e,r){if(e&1&&(n(0,"div",7),o(1),t()),e&2){let i=C();c(1),s(i.scheduleResultsService.error())}}function W(e,r){if(e&1&&(n(0,"tr")(1,"td",9),o(2),t(),n(3,"td",10)(4,"span",11),o(5),t(),n(6,"span",12),o(7),t()(),n(8,"td",13),o(9),t(),n(10,"td",14),o(11),t(),n(12,"td",15),o(13),t(),n(14,"td",16),o(15),N(16,"statusEs"),t(),n(17,"td",17),o(18),t()()),e&2){let i=r.$implicit;c(2),b(" ",i.position," "),c(3),s(i.Driver.familyName),c(2),s(i.Driver.givenName),c(2),b(" ",i.Constructor.name," "),c(2),s(i.laps),c(2),s(i.Time==null?null:i.Time.time),c(2),s($(16,8,i.status)),c(3),s(i.points)}}function X(e,r){if(e&1&&(n(0,"table",8)(1,"thead")(2,"tr")(3,"th"),o(4,"Pos"),t(),n(5,"th"),o(6,"Piloto"),t(),n(7,"th"),o(8,"Escuder\xEDa"),t(),n(9,"th"),o(10,"Vueltas"),t(),n(11,"th"),o(12,"Tiempo"),t(),n(13,"th"),o(14,"Estado"),t(),n(15,"th"),o(16,"Puntos"),t()()(),n(17,"tbody"),T(18,W,19,10,"tr",null,I),t()()),e&2){let i=C();c(18),z(i.details.Results)}}function Z(e,r){e&1&&(n(0,"div",6),o(1,"No hay resultados disponibles."),t())}var xt=(()=>{let r=class r{constructor(){this.details=null,this.scheduleResultsService=g(q),this.destroyRef=g(w),this.location=g(F)}ngOnInit(){this.id&&this.scheduleResultsService.getResultsByRound(this.id).pipe(m(a=>a.MRData.RaceTable.Races[0]??null),u(this.destroyRef)).subscribe(a=>this.details=a)}goBack(){this.location.back()}};r.\u0275fac=function(l){return new(l||r)},r.\u0275cmp=R({type:r,selectors:[["schedule-details"]],inputs:{id:"id"},standalone:!0,features:[B],decls:11,vars:2,consts:[[1,"container"],[1,"header"],["type","button",1,"back-button",3,"click"],["class","race-info",4,"ngIf"],["class","state"],[1,"race-info"],[1,"state"],[1,"state","error"],["motionReveal","",1,"modern-table"],["data-label","Pos",1,"position"],["data-label","Piloto",1,"driver"],[1,"surname"],[1,"firstname"],["data-label","Escuder\xEDa",1,"constructor"],["data-label","Vueltas"],["data-label","Tiempo"],["data-label","Estado"],["data-label","Puntos",1,"points"]],template:function(l,d){l&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Resultados"),t(),n(4,"button",2),j("click",function(){return d.goBack()}),o(5," \u2190 Volver "),t(),O(6,J,3,1,"div",3),t(),O(7,K,2,0,"div",4)(8,Q,2,1)(9,X,20,0)(10,Z,2,0),t()),l&2&&(c(6),D("ngIf",d.details),c(1),k(7,d.scheduleResultsService.loading()?7:d.scheduleResultsService.error()?8:d.details?9:10))},dependencies:[U,A,H],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}.header[_ngcontent-%COMP%]   .race-info[_ngcontent-%COMP%]{color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px}.back-button[_ngcontent-%COMP%]{margin-left:auto;background:transparent;border:1px solid var(--color-border);color:var(--color-text);border-radius:999px;padding:6px 12px;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;cursor:pointer}@media (max-width: 767px){.back-button[_ngcontent-%COMP%]{align-self:flex-start}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4), .modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(6), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6){display:none}}"]});let e=r;return e})();export{xt as ScheduleDetailsComponent};
