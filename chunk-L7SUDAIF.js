import{a as Y}from"./chunk-BPCJN5MP.js";import{a as N}from"./chunk-EYQN4FJD.js";import{a as B}from"./chunk-K3GLU4T7.js";import{D as y,Ia as _,K as S,Lb as j,Na as R,Nb as F,O as w,Oa as T,Ob as U,Pa as I,Pb as L,Qa as M,Qb as $,Ra as P,Sa as o,Ta as t,U as g,W as E,Ya as u,a as O,ab as r,b,bb as l,cb as d,gb as k,j as x,jb as D,kb as z,p as f,v as h,va as m,w as v,wa as C,ya as i}from"./chunk-CMKRVOCM.js";var A=(()=>{let n=class n{constructor(){this.http=g(j),this.seasonStore=g($),this.state=C({season:"",round:"",Races:[]}),this.loading=C(!0),this.error=C(null),this.season=m(()=>this.state().season),this.round=m(()=>this.state().round),this.Races=m(()=>this.state().Races),U(this.seasonStore.selectedSeason).pipe(h(s=>!!s),S(()=>this.fetchFormulaCurrent()),F()).subscribe(s=>{this.state.update(c=>b(O({},c),{season:s.MRData.RaceTable.season,round:s.MRData.RaceTable.round,Races:s.MRData.RaceTable.Races}))})}fetchFormulaCurrent(){this.loading.set(!0),this.error.set(null);let s=this.seasonStore.selectedSeason();return this.http.get(`${L}/${s}/last/results.json`).pipe(y(()=>this.loading.set(!1)),v(c=>(console.error("Error fetching current results:",c),this.error.set("No se pudieron cargar los \xFAltimos resultados."),x)),f(c=>c))}};n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function H(e,n){e&1&&(o(0,"div",4),r(1,"Cargando resultados..."),t())}function q(e,n){if(e&1&&(o(0,"div",5),r(1),t()),e&2){let a=u();i(1),l(a.currentService.error())}}function G(e,n){return this.currentService.Races}function J(e,n){if(e&1&&(o(0,"tr")(1,"td",7),r(2),t(),o(3,"td",8)(4,"span",9),r(5),t(),o(6,"span",10),r(7),t()(),o(8,"td",11),r(9),t(),o(10,"td",12),r(11),t(),o(12,"td",13),r(13),t(),o(14,"td",14),r(15),D(16,"statusEs"),t(),o(17,"td",15),r(18),t()()),e&2){let a=n.$implicit;i(1),_("countUp",a.position),i(1),d(" ",a.position," "),i(3),l(a.Driver.familyName),i(2),l(a.Driver.givenName),i(2),d(" ",a.Constructor.name," "),i(2),l(a.laps),i(2),l(a.Time==null?null:a.Time.time),i(2),l(z(16,10,a.status)),i(2),_("countUp",a.points),i(1),d(" ",a.points," ")}}function K(e,n){if(e&1&&M(0,J,19,12,"tr",null,I),e&2){let a=n.$implicit;P(a.Results)}}function Q(e,n){if(e&1&&(o(0,"table",6)(1,"thead")(2,"tr")(3,"th"),r(4,"Pos"),t(),o(5,"th"),r(6,"Piloto"),t(),o(7,"th"),r(8,"Escuder\xEDa"),t(),o(9,"th"),r(10,"Vueltas"),t(),o(11,"th"),r(12,"Tiempo"),t(),o(13,"th"),r(14,"Estado"),t(),o(15,"th"),r(16,"Puntos"),t()()(),o(17,"tbody"),M(18,K,2,0,null,null,G,!0),t()()),e&2){let a=u();i(18),P(a.currentService.Races())}}var pt=(()=>{let n=class n{constructor(){this.currentService=g(A)}};n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=E({type:n,selectors:[["app-last-results-list"]],standalone:!0,features:[k],decls:12,vars:3,consts:[[1,"container"],[1,"header"],[1,"race-info"],["class","state"],[1,"state"],[1,"state","error"],["motionReveal","",1,"results-table"],["data-label","Pos",1,"position",3,"countUp"],["data-label","Piloto",1,"driver"],[1,"surname"],[1,"firstname"],["data-label","Escuder\xEDa",1,"constructor"],["data-label","Vueltas"],["data-label","Tiempo"],["data-label","Estado"],["data-label","Puntos",1,"points",3,"countUp"]],template:function(c,p){c&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),r(3,"\xDAltimos Resultados"),t(),o(4,"div",2)(5,"span"),r(6),t(),o(7,"span"),r(8),t()()(),R(9,H,2,0,"div",3)(10,q,2,1)(11,Q,20,0),t()),c&2&&(i(6),d("Temporada ",p.currentService.season(),""),i(2),d("Ronda ",p.currentService.round(),""),i(1),T(9,p.currentService.loading()?9:p.currentService.error()?10:11))},dependencies:[B,N,Y],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}.header[_ngcontent-%COMP%]   .race-info[_ngcontent-%COMP%]{display:flex;gap:18px;color:var(--color-text-muted);font-size:.95rem;text-transform:uppercase;letter-spacing:1px}.results-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.82rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1)}.results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0}.results-table[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-weight:700}.results-table[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.results-table[_ngcontent-%COMP%]   .driver[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   .constructor[_ngcontent-%COMP%]{color:var(--color-text-muted)}@media (max-width: 767px){.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.results-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.results-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.results-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]   .race-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}"]});let e=n;return e})();export{pt as LastResultsComponent};
