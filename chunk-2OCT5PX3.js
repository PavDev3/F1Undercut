import{a as j}from"./chunk-EW4O4JAZ.js";import{$ as t,J as p,K as S,Ka as u,L as l,M as C,T as M,X as E,Y as b,Z as y,_,a as h,aa as e,b as f,ca as I,f as x,fa as i,ga as c,h as d,ia as P,ja as O,k as g,ra as D,s as v,ua as T,w as m,x as R,ya as w}from"./chunk-WINNARKM.js";var $=(()=>{let n=class n{constructor(){this.http=m(T),this.state=S({round:"",season:"",Races:[]}),this.season=p(()=>this.state().season),this.Races=p(()=>this.state().Races),this.round=p(()=>this.state().round),this.scheduleResults$=this.fetchScheduleResults(),this.scheduleResults$.pipe(j()).subscribe(a=>{this.state.update(o=>f(h({},o),{season:a.MRData.RaceTable.season,Races:a.MRData.RaceTable.Races,round:a.MRData.RaceTable.round}))})}fetchScheduleResults(){let a=`${u}results.json`;return this.http.get(a).pipe(g(o=>(console.error("Error fetching schedule results"),x)),d(o=>o))}getResultsByRound(a){return this.http.get(`${u}${a}/results.json`)}};n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function N(r,n){if(r&1&&(t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),e(),t(11,"td"),i(12),e(),t(13,"td"),i(14),e()()),r&2){let s=n.$implicit;l(2),c(s.position),l(2),P(" ",s.Driver.givenName," ",s.Driver.familyName," "),l(2),c(s.Constructor.name),l(2),c(s.laps),l(2),c(s.Time==null?null:s.Time.time),l(2),c(s.status),l(2),c(s.points)}}function B(r,n){if(r&1&&(t(0,"div",1)(1,"h2"),i(2,"Results"),e(),t(3,"h3"),i(4),e(),t(5,"div",2)(6,"table",3)(7,"thead")(8,"tr")(9,"th"),i(10,"Position"),e(),t(11,"th"),i(12,"Driver"),e(),t(13,"th"),i(14,"Constructor"),e(),t(15,"th"),i(16,"Laps"),e(),t(17,"th"),i(18,"Time"),e(),t(19,"th"),i(20,"Status"),e(),t(21,"th"),i(22,"Points"),e()()(),t(23,"tbody"),y(24,N,15,8,"tr",null,b),e()()()()),r&2){let s=I();l(4),c(s.details.raceName),l(20),_(s.details.Results)}}var et=(()=>{let n=class n{constructor(a){this.route=a,this.scheduleResultsService=m($)}ngAfterViewInit(){this.scheduleResultsService.getResultsByRound(this.id).pipe(d(a=>this.details=a.MRData.RaceTable.Races[0])).subscribe()}};n.\u0275fac=function(o){return new(o||n)(C(w))},n.\u0275cmp=R({type:n,selectors:[["schedule-details"]],inputs:{id:"id"},standalone:!0,features:[O],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"table-wrapper"],[1,"lastResults"]],template:function(o,F){o&1&&E(0,B,26,1,"div",0),o&2&&M("ngIf",F.details)},dependencies:[D],styles:['@charset "UTF-8";.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin-bottom:20px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;width:90%}table[_ngcontent-%COMP%]{width:80%;margin-top:20px;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px;text-align:center}th[_ngcontent-%COMP%]{background-color:#f2f2f2}@media (max-width: 767px){.column[_ngcontent-%COMP%]{justify-content:center}th[_ngcontent-%COMP%]:nth-child(3), th[_ngcontent-%COMP%]:nth-child(4), th[_ngcontent-%COMP%]:nth-child(6), td[_ngcontent-%COMP%]:nth-child(3), td[_ngcontent-%COMP%]:nth-child(4), td[_ngcontent-%COMP%]:nth-child(6){display:none}}']});let r=n;return r})();export{et as ScheduleDetailsComponent};
