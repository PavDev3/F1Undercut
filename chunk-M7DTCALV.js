import{a as m}from"./chunk-WMJCJ33X.js";import{b as l}from"./chunk-P32JNNSH.js";import{J as i,K as v,a as o,b as a,f as n,h as c,k as h,s as d,ua as f,w as p}from"./chunk-MUYU46A6.js";var g=(()=>{let r=class r{constructor(){this.http=p(f),this.state=v({season:"",drivers:[]}),this.season=i(()=>this.state().season),this.drivers=i(()=>this.state().drivers),this.driversBySeason$=this.fetchDriversBySeason(),this.driversBySeason$.pipe(m()).subscribe(t=>{this.state.update(e=>a(o({},e),{season:t.MRData.DriverTable.season,drivers:t.MRData.DriverTable.Drivers}))})}fetchDriversBySeason(){return this.http.get(`${l}`).pipe(h(t=>(console.error("Error"),n)),c(t=>t))}getDriverById(t){return this.state().drivers.find(e=>e.driverId===t)}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=d({token:r,factory:r.\u0275fac,providedIn:"root"});let s=r;return s})();export{g as a};
