import{a as N}from"./chunk-K3GLU4T7.js";import{a as Q,b as U}from"./chunk-RIZUC5RG.js";import{e as L}from"./chunk-J7ZXTAJT.js";import{D as v,Ia as E,K as S,Lb as B,Na as F,Nb as j,O as y,Oa as k,Ob as D,Pb as H,Qa as I,Qb as $,Ra as T,Sa as o,Ta as n,U as l,W as w,Ya as P,a as O,ab as r,b as h,bb as s,cb as C,gb as R,ib as z,j as u,jb as g,kb as m,p as x,v as f,va as M,w as b,wa as p,ya as c}from"./chunk-CMKRVOCM.js";var Y=(()=>{let e=class e{constructor(){this.http=l(B),this.seasonStore=l($),this.state=p({season:"",races:[]}),this.loading=p(!0),this.error=p(null),this.season=M(()=>this.state().season),this.races=M(()=>this.state().races),D(this.seasonStore.selectedSeason).pipe(f(d=>!!d),S(()=>this.fetchScheduleBySeason()),j()).subscribe(d=>{this.state.update(i=>h(O({},i),{season:d.MRData.RaceTable.season,races:d.MRData.RaceTable.Races}))})}fetchScheduleBySeason(){this.loading.set(!0),this.error.set(null);let d=this.seasonStore.selectedSeason();return this.http.get(`${H}/${d}/races.json`).pipe(v(()=>this.loading.set(!1)),b(i=>(console.error("Error fetching schedule:",i),this.error.set("No se pudo cargar el calendario."),u)),x(i=>i))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q(t,e){t&1&&(o(0,"div",4),r(1,"Cargando calendario..."),n())}function G(t,e){if(t&1&&(o(0,"div",5),r(1),n()),t&2){let a=P();c(1),s(a.scheduleService.error())}}var J=(t,e)=>e.raceName,K=t=>["/results",t];function V(t,e){if(t&1&&(o(0,"tr")(1,"td",7)(2,"a",8),r(3),n()(),o(4,"td",9),r(5),g(6,"dateFormat"),n(),o(7,"td",10),r(8),g(9,"timeFormat"),n(),o(10,"td",11),r(11),g(12,"timeFormat"),n(),o(13,"td",12),r(14),g(15,"timeFormat"),n()()),t&2){let a=e.$implicit;c(2),E("routerLink",z(14,K,a.round)),c(1),s(a.raceName),c(2),s(m(6,6,a.date)),c(3),C(" ",m(9,8,a.FirstPractice==null?null:a.FirstPractice.time)," "),c(3),C(" ",m(12,10,a.Qualifying==null?null:a.Qualifying.time)," "),c(3),s(m(15,12,a.time))}}function W(t,e){if(t&1&&(o(0,"table",6)(1,"thead")(2,"tr")(3,"th"),r(4,"Carrera"),n(),o(5,"th"),r(6,"Fecha"),n(),o(7,"th"),r(8,"Pr\xE1ctica 1"),n(),o(9,"th"),r(10,"Clasificaci\xF3n"),n(),o(11,"th"),r(12,"Hora Carrera"),n()()(),o(13,"tbody"),I(14,V,16,16,"tr",null,J),n()()),t&2){let a=P();c(14),T(a.scheduleService.races())}}var pt=(()=>{let e=class e{constructor(){this.scheduleService=l(Y)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=w({type:e,selectors:[["app-schedule-list"]],standalone:!0,features:[R],decls:10,vars:2,consts:[[1,"container"],[1,"header"],[1,"season-info"],["class","state"],[1,"state"],[1,"state","error"],["motionReveal","",1,"modern-table"],["data-label","Carrera",1,"race-name"],[3,"routerLink"],["data-label","Fecha"],["data-label","Pr\xE1ctica 1"],["data-label","Clasificaci\xF3n"],["data-label","Hora Carrera"]],template:function(i,_){i&1&&(o(0,"div",0)(1,"div",1)(2,"h1"),r(3,"Calendario"),n(),o(4,"div",2)(5,"span"),r(6),n()()(),F(7,q,2,0,"div",3)(8,G,2,1)(9,W,16,0),n()),i&2&&(c(6),C("Temporada ",_.scheduleService.season(),""),c(1),k(7,_.scheduleService.loading()?7:_.scheduleService.error()?8:9))},dependencies:[L,Q,U,N],styles:[".container[_ngcontent-%COMP%]{padding:28px 20px;max-width:1240px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:28px;text-align:left;display:flex;align-items:flex-end;justify-content:space-between;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(1.8rem,2.6vw,2.6rem);font-weight:700;margin:0;color:var(--color-text);letter-spacing:.6px}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{color:var(--color-text-muted);font-size:1rem;text-transform:uppercase;letter-spacing:1px}.modern-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0 10px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 16px;text-align:left;color:var(--color-text-muted);font-weight:600;text-transform:uppercase;font-size:.85rem;letter-spacing:1px;border-bottom:1px solid var(--color-border)}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{padding-left:18px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--color-surface);box-shadow:var(--shadow-1);transition:transform .25s ease,box-shadow .25s ease,background .25s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--shadow-2);background:var(--color-surface-strong)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-radius:var(--radius-1) 0 0 var(--radius-1);padding-left:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-radius:0 var(--radius-1) var(--radius-1) 0;padding-right:18px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--color-text);font-weight:600;transition:color .2s ease}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-accent)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.nationality[_ngcontent-%COMP%]   .fflag[_ngcontent-%COMP%]{margin-right:8px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td.number[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text)}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .surname[_ngcontent-%COMP%]{font-weight:700;color:var(--color-text);margin-right:5px}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .firstname[_ngcontent-%COMP%]{color:var(--color-text-muted)}.state[_ngcontent-%COMP%]{padding:18px 20px;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-1);color:var(--color-text);box-shadow:var(--shadow-1)}.state.error[_ngcontent-%COMP%]{border-color:#e1060080;color:#ffd2cf}@media (max-width: 767px){.container[_ngcontent-%COMP%]{padding:20px 14px}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.modern-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:var(--radius-1);padding:8px 0}.modern-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;font-size:.88rem}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;border-radius:0}.modern-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:1px;font-size:.72rem}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.header[_ngcontent-%COMP%]   .season-info[_ngcontent-%COMP%]{font-size:.85rem}}"]});let t=e;return t})();export{pt as ScheduleListComponent};
