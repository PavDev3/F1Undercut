import{E as d,N as m,Qb as g,R as S,Tb as b,Ub as C,Vb as a,Wb as I,X as n,a as c,b as u,j as h,p as l,w as p,x as f,ya as i,za as o}from"./chunk-RWPYTDVJ.js";var R=(()=>{let r=class r{constructor(){this.http=n(g),this.seasonStore=n(I),this.state=o({season:"",constructors:[]}),this.loading=o(!0),this.error=o(null),this.season=i(()=>this.state().season),this.constructors=i(()=>this.state().constructors),C(this.seasonStore.selectedSeason).pipe(p(t=>!!t),m(()=>this.fetchConstructorSeason()),b()).subscribe(t=>{this.state.update(s=>u(c({},s),{season:t.MRData.ConstructorTable.season,constructors:t.MRData.ConstructorTable.Constructors}))})}fetchConstructorSeason(){this.loading.set(!0),this.error.set(null);let t=this.seasonStore.selectedSeason();return this.http.get(`${a}/${t}/constructors.json`).pipe(d(()=>this.loading.set(!1)),f(s=>(console.error("Error fetching constructors:",s),this.error.set("No se pudieron cargar las escuder\xEDas."),h)),l(s=>s))}getConstructorById(t){return this.state().constructors.find(s=>s.constructorId===t)}fetchConstructorById(t,s){return this.http.get(`${a}/${t}/constructors/${s}.json`)}};r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=S({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();export{R as a};
