<div class="container">
  <div class="header">
    <h1>Circuitos</h1>
    <div class="season-info">
      <span>Temporada {{ tracksService.season() }}</span>
    </div>
  </div>

  @if (tracksService.loading()) {
    <div class="state">Cargando circuitos...</div>
  } @else if (tracksService.error()) {
    <div class="state error">{{ tracksService.error() }}</div>
  } @else {
    <table class="modern-table" motionReveal>
      <thead>
        <tr>
          <th>Circuito</th>
          <th>País</th>
        </tr>
      </thead>
      <tbody>
        @for (track of tracksService.tracks(); track track.circuitId) {
        <tr>
          <td class="track" data-label="Circuito">
            <a [routerLink]="['/track-details', track.circuitId]">
              {{ track.circuitName }}
            </a>
          </td>
          <td class="nationality" data-label="País">
            <div
              class="fflag ff-md {{
                'fflag-' + (track.Location.country | flagClass)
              }}"
            ></div>
            <span>{{ track.Location.country | nationalityEs }}</span>
          </td>
        </tr>
        }
      </tbody>
    </table>
  }
</div>
